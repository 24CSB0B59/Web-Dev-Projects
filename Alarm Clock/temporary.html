<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Clock with Alarm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #clock {
            font-size: 48px;
            margin-bottom: 20px;
        }
        #alarm-setter {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="clock">00:00:00</div>
    <div id="alarm-setter">
        <label for="alarm-time">Set Alarm: </label>
        <input type="time" id="alarm-time">
        <button onclick="setAlarm()">Set Alarm</button>
    </div>
        <h2>Stopwatch</h2>
        <div class="stopwatch">
            <div class="stopwatch-display">00:00:00</div>
            <div class="stopwatch-controls">
                <button onclick="startStopwatch()">Start</button>
                <button onclick="stopStopwatch()">Stop</button>
                <button onclick="resetStopwatch()">Reset</button>
            </div>
    <div>

    </div>
    
    <audio id="alarm-sound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>

    <script>
        const clockElement = document.getElementById('clock');
        const alarmSound = document.getElementById('alarm-sound');
        let alarmTime = null;

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            clockElement.textContent = `${hours}:${minutes}:${seconds}`;

            if (alarmTime && `${hours}:${minutes}` === alarmTime) {
                alarmSound.play();
                alert('Alarm ringing!');
                alarmTime = null; // Reset alarm after it rings
            }
        }

        function setAlarm() {
            const alarmInput = document.getElementById('alarm-time').value;
            if (alarmInput) {
                alarmTime = alarmInput;
                alert(`Alarm set for ${alarmTime}`);
            } else {
                alert('Please select a valid time for the alarm.');
            }
        }
        let stopwatchInterval;
        let stopwatchSeconds = 0;

        function startStopwatch() {
            if (!stopwatchInterval) {
                stopwatchInterval = setInterval(() => {
                    stopwatchSeconds++;
                    const hours = String(Math.floor(stopwatchSeconds / 3600)).padStart(2, '0');
                    const minutes = String(Math.floor((stopwatchSeconds % 3600) / 60)).padStart(2, '0');
                    const seconds = String(stopwatchSeconds % 60).padStart(2, '0');
                    document.querySelector('.stopwatch-display').textContent = `${hours}:${minutes}:${seconds}`;
                }, 1000);
            }
        }

        function stopStopwatch() {
            clearInterval(stopwatchInterval);
            stopwatchInterval = null;
        }

        function resetStopwatch() {
            stopStopwatch();
            stopwatchSeconds = 0;
            document.querySelector('.stopwatch-display').textContent = '00:00:00';
        }
        setInterval(updateClock, 1000);
    </script>
</body>
</html>